(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1507:function(e,a,n){Promise.resolve().then(n.bind(n,5900)),Promise.resolve().then(n.bind(n,9312)),Promise.resolve().then(n.bind(n,2247)),Promise.resolve().then(n.bind(n,1802))},7150:function(e,a,n){"use strict";n.d(a,{w7:function(){return t},y1:function(){return s},zB:function(){return d}}),n(3079);var r=n(2119),t=(0,r.$)("eae84a2dcf7606faf5d36829e54d44d8873af4e7"),s=(0,r.$)("82b4fd2276b8444df64d0ce810228c1bf6dc2ab0"),d=(0,r.$)("c42d924a444167e90bdf539e574b38958c5bac96")},9322:function(e,a,n){"use strict";n.d(a,{mM:function(){return t},o_:function(){return s},xj:function(){return d}}),n(3079);var r=n(2119),t=(0,r.$)("f42519a785cda177e7fdcb501befedf69de813d5");(0,r.$)("dd389c4c16b7accf7f54506bebc2f30b38772540");var s=(0,r.$)("97534d3ed56bed6caa077a576750e46584832d04"),d=(0,r.$)("9ce745ddb7b82eb4d1cfd8c0448c4810480d52b9")},5900:function(e,a,n){"use strict";n.d(a,{default:function(){return d}});var r=n(7437),t=n(2265),s=n(7150);function d(e){let{userEmail:a}=e,[n,d]=(0,t.useTransition)();return(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Signed in as ",(0,r.jsx)("span",{className:"font-semibold",children:a})]}),(0,r.jsx)("button",{onClick:()=>{d(async()=>{await (0,s.w7)()})},disabled:n,className:"px-4 py-2 text-sm font-medium text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Signing out...":"Sign Out"})]})}},9312:function(e,a,n){"use strict";n.d(a,{default:function(){return l}});var r=n(7437),t=n(2265),s=n(7150);function d(){let[e,a]=(0,t.useState)(""),[n,d]=(0,t.useState)(""),[o,l]=(0,t.useTransition)(),[i,c]=(0,t.useState)(null),u=async a=>{a.preventDefault(),c(null),l(async()=>{let a=await (0,s.zB)(e.trim(),n);(null==a?void 0:a.error)&&c(a.error)})};return(0,r.jsxs)("form",{onSubmit:u,className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Sign In"}),i&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>a(e.target.value),placeholder:"your@email.com",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:o,required:!0,autoComplete:"email"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"password",id:"password",value:n,onChange:e=>d(e.target.value),placeholder:"••••••••",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:o,required:!0,autoComplete:"current-password"})]}),(0,r.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:o?"Signing in...":"Sign In"})]})]})}function o(){let[e,a]=(0,t.useState)(""),[n,d]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[i,c]=(0,t.useTransition)(),[u,m]=(0,t.useState)(null),[b,x]=(0,t.useState)(!1),g=async a=>{if(a.preventDefault(),m(null),x(!1),n!==o){m("Passwords do not match");return}if(n.length<6){m("Password must be at least 6 characters");return}c(async()=>{let a=await (0,s.y1)(e.trim(),n);(null==a?void 0:a.error)?m(a.error):x(!0)})};return b?(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Account created successfully!"}),(0,r.jsx)("p",{className:"text-sm mt-1",children:"Please check your email to verify your account before signing in."})]})}):(0,r.jsxs)("form",{onSubmit:g,className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Sign Up"}),u&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"signup-email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"email",id:"signup-email",value:e,onChange:e=>a(e.target.value),placeholder:"your@email.com",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:i,required:!0,autoComplete:"email"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"signup-password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"password",id:"signup-password",value:n,onChange:e=>d(e.target.value),placeholder:"At least 6 characters",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:i,required:!0,minLength:6,autoComplete:"new-password"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirm Password ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"password",id:"confirm-password",value:o,onChange:e=>l(e.target.value),placeholder:"Confirm your password",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:i,required:!0,minLength:6,autoComplete:"new-password"})]}),(0,r.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:i?"Creating account...":"Sign Up"})]})]})}function l(){let[e,a]=(0,t.useState)("signin");return(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"flex border-b border-gray-200 mb-4",children:[(0,r.jsx)("button",{onClick:()=>a("signin"),className:"flex-1 py-3 px-4 text-center font-medium transition-colors ".concat("signin"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),children:"Sign In"}),(0,r.jsx)("button",{onClick:()=>a("signup"),className:"flex-1 py-3 px-4 text-center font-medium transition-colors ".concat("signup"===e?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),children:"Sign Up"})]}),"signin"===e?(0,r.jsx)(d,{}):(0,r.jsx)(o,{})]})}},2247:function(e,a,n){"use strict";n.d(a,{default:function(){return l}});var r=n(7437),t=n(2265),s=n(9322);let d=[{name:"Afghanistan",code:"AF"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"Argentina",code:"AR"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Bangladesh",code:"BD"},{name:"Belgium",code:"BE"},{name:"Brazil",code:"BR"},{name:"Bulgaria",code:"BG"},{name:"Canada",code:"CA"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Colombia",code:"CO"},{name:"Croatia",code:"HR"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Egypt",code:"EG"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"Germany",code:"DE"},{name:"Greece",code:"GR"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran",code:"IR"},{name:"Ireland",code:"IE"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Japan",code:"JP"},{name:"Kenya",code:"KE"},{name:"Malaysia",code:"MY"},{name:"Mexico",code:"MX"},{name:"Morocco",code:"MA"},{name:"Netherlands",code:"NL"},{name:"New Zealand",code:"NZ"},{name:"Nigeria",code:"NG"},{name:"Norway",code:"NO"},{name:"Pakistan",code:"PK"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Romania",code:"RO"},{name:"Russia",code:"RU"},{name:"Saudi Arabia",code:"SA"},{name:"Singapore",code:"SG"},{name:"South Africa",code:"ZA"},{name:"South Korea",code:"KR"},{name:"Spain",code:"ES"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Taiwan",code:"TW"},{name:"Thailand",code:"TH"},{name:"Turkey",code:"TR"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"Vietnam",code:"VN"}];d.sort((e,a)=>e.name.localeCompare(a.name));var o=n(4591);function l(e){var a;let{existingCountries:n}=e,[l,i]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[m,b]=(0,t.useTransition)(),[x,g]=(0,t.useState)(null),f=async e=>{if(e.preventDefault(),g(null),!l){g("Please select a country");return}let a=d.find(e=>e.name===l);if(!a){g("Invalid country selected");return}if(n.some(e=>e.country_name.toLowerCase()===a.name.toLowerCase()||e.country_code&&a.code&&e.country_code.toUpperCase()===a.code.toUpperCase())){g("You have already added ".concat(a.name,". Please select a different country."));return}b(async()=>{let e=await (0,s.o_)(a.name,a.code,c.trim()||void 0);e.error?g(e.error):(i(""),u(""))})};return(0,r.jsxs)("form",{onSubmit:f,className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Add Visited Country"}),x&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:x}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"countryName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Country ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("select",{id:"countryName",value:l,onChange:e=>{i(e.target.value)},className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",disabled:m,required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select a country..."}),d.map(e=>{let a=n.some(a=>a.country_name.toLowerCase()===e.name.toLowerCase()||a.country_code&&e.code&&a.country_code.toUpperCase()===e.code.toUpperCase());return(0,r.jsxs)("option",{value:e.name,disabled:a,children:[(0,o.m)(e.code)," ",e.name," (",e.code,")",a?" - Already added":""]},e.code)})]}),l&&(0,r.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Country code: ",(0,r.jsx)("span",{className:"font-semibold",children:null===(a=d.find(e=>e.name===l))||void 0===a?void 0:a.code})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),(0,r.jsx)("textarea",{id:"notes",value:c,onChange:e=>u(e.target.value),placeholder:"Add any notes about your visit...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:m})]}),(0,r.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:m?"Adding...":"Add Country"})]})]})}},1802:function(e,a,n){"use strict";n.d(a,{default:function(){return o}});var r=n(7437),t=n(2265),s=n(9322),d=n(4591);function o(e){let{countries:a}=e,[n,o]=(0,t.useTransition)(),[l,i]=(0,t.useState)(null),[c,u]=(0,t.useState)(""),m=async e=>{confirm("Are you sure you want to delete this country?")&&o(async()=>{await (0,s.xj)(e)})},b=e=>{i(e.id);let a=new Date(e.visited_at),n=a.getFullYear(),r=String(a.getMonth()+1).padStart(2,"0"),t=String(a.getDate()).padStart(2,"0");u("".concat(n,"-").concat(r,"-").concat(t))},x=async e=>{if(!c){alert("Please select a date");return}o(async()=>{let a=await (0,s.mM)(e,c);a.error?alert(a.error):(i(null),u(""))})},g=()=>{i(null),u("")},f=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return 0===a.length?(0,r.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No countries visited yet. Add your first country above!"})}):(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:(0,r.jsxs)("h2",{className:"text-2xl font-bold",children:["Visited Countries (",a.length,")"]})}),(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:a.map(e=>(0,r.jsx)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[e.country_code&&(0,r.jsx)("span",{className:"text-xl",role:"img","aria-label":"".concat(e.country_name," flag"),children:(0,d.m)(e.country_code)}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:e.country_name}),e.country_code&&(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:e.country_code})]}),e.notes&&(0,r.jsx)("p",{className:"text-gray-600 mb-2",children:e.notes}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:l===e.id?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("label",{className:"text-sm text-gray-500",children:"Visited on:"}),(0,r.jsx)("input",{type:"date",value:c,onChange:e=>u(e.target.value),className:"px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:n}),(0,r.jsx)("button",{onClick:()=>x(e.id),disabled:n,className:"px-3 py-1 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"}),(0,r.jsx)("button",{onClick:g,disabled:n,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]}):(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Visited on ",f(e.visited_at)]}),(0,r.jsx)("button",{onClick:()=>b(e),disabled:n,className:"px-2 py-1 text-xs font-medium text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Edit Date"})]})})]}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)("button",{onClick:()=>m(e.id),disabled:n||l===e.id,className:"px-4 py-2 text-sm font-medium text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete"})})]})},e.id))})]})}},2119:function(e,a,n){"use strict";Object.defineProperty(a,"$",{enumerable:!0,get:function(){return t}});let r=n(3079);function t(e){let{createServerReference:a}=n(6671);return a(e,r.callServer)}},4591:function(e,a,n){"use strict";function r(e){if(!e||2!==e.length)return"\uD83C\uDFF3️";let a=e.toUpperCase(),n=a.charCodeAt(0)-65+127462,r=a.charCodeAt(1)-65+127462;return n<127462||n>127487||r<127462||r>127487?"\uD83C\uDFF3️":String.fromCodePoint(n,r)}n.d(a,{m:function(){return r}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1507)}),_N_E=e.O()}]);